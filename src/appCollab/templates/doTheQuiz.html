{% extends 'quiz/main.html' %}

{% load static %}

{% block header %}
    <link rel="stylesheet" href="{% static 'css/quiz.css' %}">
    <link rel="stylesheet" href="{% static 'css/timer.css' %}">
    <script
    src="https://code.jquery.com/jquery-3.6.1.min.js"
    integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
    crossorigin="anonymous" defer></script> 
    <script type="text/javascript" src="{% static 'js/timer.js' %}" defer></script>
    <script type="text/javascript" src="{% static 'js/quizz.js' %}" defer></script>
 
{% endblock %}
{% block content %}

    <h1>QUIZ</h1>
    <div id="app"></div>  <!-- tag du compte à rebours pour une question  -->

    <div id="container-quiz">
        <p id="titre">  </p> 
        <p id="intitule"> </p>

        <div id="container-reponses">
        </div>
    </div>
    <form id="myForm" method="POST">
        {% csrf_token %}
        <button id="valider" type="submit">Valider</button>
    </form>

    <!-- Déclaration des variables -->
    <script type="text/javascript">                         // id
        let timerQuestion = {{duree}};                      // app
        let titre         = "{{titre|safe}}";               // titre
        let intitule      = "{{intitule|safe}}";            // intitule
        let listRep       = {{reponses|safe}};              // container-reponses - quizz.js l.59-65
        let numQuestion   = parseInt({{numQuestion}});      // titre              - quizz.js l.56
        const totalQ      = "{{totalQ}}";                   // titre              - quizz.js l.56
    </script>

{% endblock %}